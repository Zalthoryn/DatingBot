# Dating Bot: Структура и описание сервисов

## Описание сервисов

### Сервис 1: Telegram Bot
- Задача: отвечает за взаимодействие с пользователем через Telegram Bot API.
- Что реализую: регистрация, просмотр анкет, лайки/пропуски, чат после мэтча.
- Стек: python (aiogram).


### Сервис 2: Matchmaking Service
- Задача: отвечать за анкеты, рейтинг и подбор пар.
- Что реализую: CRUD анкет, расчет рейтинга (первичный, комбинированный), выдача анкет для показа.
- Стек: python (FastAPI), postgreSQL, Redis, Celery (пересчёт рейтингов).

### Сервис 3: Notification Service
- Задача: Отвечает за уведомления.
- Что реализую: отправка сообщений через Telegram Bot API.
- Стек: python, RabbitMQ (получение событий от Matchmaking).

## Хранилища данных
- **PostgreSQL:** Основная БД для анкет, рейтингов, мэтчей.
- **Redis:** Кэширование анкет.
- **MinIO:** Хранилище для фотографий.

## Схема системы


### Описание схемы
- **Telegram Bot:** Принимает команды от пользователя, отправляет запросы в Matchmaking Service.
- **Matchmaking Service:** Обрабатывает анкеты, рассчитывает рейтинг, кэширует анкеты в Redis, отправляет события в RabbitMQ.
- **Notification Service:** Получает события из RabbitMQ и отправляет уведомления через Telegram Bot API.
- **Celery:** Пересчитывает рейтинги (раз в час).
- **Docker:** Все сервисы (Bot, Matchmaking, Notification, PostgreSQL, Redis, RabbitMQ, MinIO) будут в контейнерах.